<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>RunDa Documentatie</title>

	<link rel="stylesheet" href="css/scholarly.min.css">
	<script src="js/scholarly.min.js"></script>
</head>

<body>
	<header>
		<h1>RunDa Scholarly HTML</h1>
	</header>

	<div role="contentinfo">
		<ol role="directory">
			<li>
				<a href="#autori">
					<span> 1. </span>
					Autori
				</a>
			</li>
			<li>
				<a href="#introducere">
					<span> 2. </span>
					Introducere
				</a>
			</li>
			<li>
				<a href="#database">
					<span> 3. </span>
					Database
				</a>

				<ol role="directory">
					<li>
						<a href="#usersdb">
							<span> 3.1. </span>
							Tabelul Registru
						</a>
					</li>
					<li>
						<a href="#datadb">
							<span> 3.4. </span>
							Tabelul Data
						</a>
					</li>
					<li>
						<a href="#ratadb">
							<span> 3.4. </span>
							Tabelul RataLunaAnul
						</a>
					</li>
					<li>
						<a href="#mediidb">
							<span> 3.5. </span>
							Tabelul MediiLunaAnul
						</a>
					</li>
					<li>
						<a href="#educatiedb">
							<span> 3.5. </span>
							Tabelul EducatieLunaAnul
						</a>
					</li>
					<li>
						<a href="#varstedb">
							<span> 3.6. </span>
							Tabelul VarsteLunaAnul
						</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="#front-end">
					<span> 4. </span>
					Front End
				</a>

				<ol role="directory">
					<li>
						<a href="#signupfront">
							<span> 4.1. </span>
							Sign-Up
						</a>
					</li>
					<li>
						<a href="#loginfront">
							<span> 4.2. </span>
							Login
						</a>
					</li>
					<li>
						<a href="#logoutfront">
							<span> 4.3. </span>
							Logout
						</a>
					</li>
					<li>
						<a href="#hartafront">
							<span> 4.4. </span>
							Resurse Cartografice
						</a>
					</li>
					<li>
						<a href="#statisticifront">
							<span> 4.5. </span>
							Statistici
						</a>
					</li>
					<li>
						<a href="#referintefront">
							<span> 4.5. </span>
							Statistici
						</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="#back-end">
					<span> 5. </span>
					Back End
				</a>
				<ol role="directory">
					<li>
						<a href="#signupback">
							<span> 5.1. </span>
							Sign-Up Back
						</a>
					</li>
					<li>
						<a href="#loginback">
							<span> 5.1. </span>
							Login Back
						</a>
					</li>
					<li>
						<a href="#logoutback">
							<span> 5.1. </span>
							Logout Back
						</a>
					</li>
					<li>
						<a href="#hartaback-end">
							<span> 5.2. </span>
							Harta
						</a>
					</li>
					<li>
						<a href="#statisticiback-end">
							<span> 5.3. </span>
							Statisti
						</a>
					</li>

				</ol>
			</li>
		</ol>
	</div>

	<section id="autori" typeof="sa:AuthorsList">
		<h2>Autori</h2>
		<ul>
			<li typeof="sa:ContributorRole" property="schema:author">
				<span typeof="schema:Person">
					<meta property="schema:givenName" content="Raluca-Florina">
					<meta property="schema:familyName" content="Bibire">
					<span property="schema:name">Bibire Raluca-Florina</span>
				</span>
				<ul>
					<li property="schema:roleContactPoint" typeof="schema:ContactPoint">
						<a href="ralu_florina@yahoo.com" property="schema:email">ralu_florina@yahoo.com</a>
					</li>

				</ul>
			</li>
			<li typeof="sa:ContributorRole" property="schema:author">
				<span typeof="schema:Person">
					<meta property="schema:givenName" content="Ana-Maria">
					<meta property="schema:familyName" content="Ifrose">
					<span property="schema:name">Ifrose Ana-Maria</span>
				</span>
				<ul>
					<li property="schema:roleContactPoint" typeof="schema:ContactPoint">
						<a href="anaifrose99@gmail.com" property="schema:email">anaifrose99@gmail.com</a>
					</li>

				</ul>
			</li>

		</ul>
	</section>

	<section id="introducere">

		<h3>
			Introducere
		</h3>

		<section typeof="sa:ProjectLinks">
			<h4> Link-uri:</h4>
			<ul>

				<li typeof="schema:WebPage" role="link"
					resource="https://github.com/TrueSide1005/Proiect_TW_Bibire_Ifrose_A3/" property="schema:citation"
					id="github">
					<cite property="schema:name">
						<a href="https://github.com/TrueSide1005/Proiect_TW_Bibire_Ifrose_A3/">Github</a>
					</cite>
				</li>
				<li typeof="schema:WebPage" role="link" resource="https://app.swaggerhub.com/"
					property="schema:citation" id="swagger">
					<cite property="schema:name">
						<a href="https://app.swaggerhub.com/">Swagger</a>
					</cite>
				</li>
			</ul>
			<p>
				Cerință:<br><br>

				&emsp;&emsp;Recurgând la un API REST/GraphQL propriu, să se realizeze un instrument Web de vizualizare
				și de comparare multi-criteriala (pe județe, nivel de educație, grupe de vârstă, mediu, perioadă de timp
				etc.) a datelor publice referitoare la șomajul din România pe ultimele 12 luni.

				Statisticile, plus vizualizările generate – minim 3 maniere, plus cele cartografice pe baza unor
				servicii Web specializate – vor putea fi exportate în formatele CSV, XML, SVG si PDF.
			</p>
		</section>


	</section>

	<section id="database">
		<h3> Database</h3>
		<p> Baza de date a fost în MySql pus la dispoziție de intrumentul phpMyAdmin.
			În vedere respectării aspectului privind securitatea în prelucrarea sau introducerea datelor au fost
			folosite
			prepared statement-uri de fiecare data cand
			a fost interogata baza de date.
		</p>
		<section id="usersdb">
			<h3>
				Tabelul Registru
			</h3>
			<p>Tabelul unde vor fi stocate toate detaliile legate de un utilizator. Datele introduce in acest tabel sunt
				furnizate de form-ul din pagina de sign-up si corespund
				credentialelor contului nou creat.</p>
			<p>Structura tabelui : </p>
			<figure typeof="sa:image">
				<img src="images/user.png">
				<figcaption>Fig.1 - Structura tabelului registru</figcaption>
			</figure>
			<br>
			<p>Un exemplu de date stocate in tabelul registru:</p>
			<br>
			<figure typeof="sa:image">
				<img src="images/user-content.png">
				<figcaption>Fig.2 - Exemplu de date din tabelulul registru</figcaption>
			</figure>
		</section>

		<section id="datadb">
			<h3>
				Tabelul Data
			</h3>
			<p>Stocheaza date privind rata somajului (%) in Romania pe ultimele 12 luni si dupa 3 criterii: total, femei
				si barbati.
				Aceste date vor fi folosite apoi pentru generarea hartii de pe pagina "statisticiCartografice.php".
				Datele sunt introduse de administratorul bazei de date si puse la dispozitia clientului prin cadrul
				form-ului de pe pagina
				mentionata mai sus.
			</p>

			<p>Structura tabelului:</p>
			<figure typeof="sa:image">
				<img src="images/data_str.png">
				<figcaption>Fig.3 - Structura tabelului data</figcaption>
			</figure>


			<p>Asa arata un exemplu de date stocate in tabel:</p>
			<figure typeof="sa:image">
				<img src="images/data.png">
				<figcaption>Fig.4 - Exemplu de date din tabelulul data</figcaption>
			</figure>

		</section>

		<section id="ratadb">
			<h3>
				Tabelul RataLunaAnul
			</h3>

			<p>Date din acest tabel sunt introduse de administratorul bazei de date .</p>
			<p>Tabelul este realizat pentru fiecare luna a anului si contine ca si date raportate per judet: numarul
				total someri, numarul total someri femei,
				numarul total de someri bărbați, număr someri indemnizati, număr someri neindemnizati, rata somajului
				(%) ,
				rata somajului feminina (%) , rata somajului masculina (%).
			</p>

			<p>Structura tabelului:</p>
			<figure typeof="sa:image">
				<img src="images/rata.png">
				<figcaption>Fig.5 - Structura tabelului RataLunaAnul</figcaption>
			</figure>


			<p>Exemplu de date stocate in tabelul RataLunaAnul:</p>
			<figure typeof="sa:image">
				<img src="images/rata-content.png">
				<figcaption>Fig.6 - Exemplu de date din tabelulul RataLunaAnul</figcaption>
			</figure>

		</section>

		<section id="mediidb">
			<h3>
				Tabelul MediiLunaAnul
			</h3>

			<p>Date din acest tabel sunt introduse de administratorul bazei de date .</p>
			<p>Tabelul este realizat pentru fiecare luna a anului si contine ca si date raportate per judet: numar total
				someri din mediul
				urban, numar someri femei din mediul urban, numar someri barbati din mediul urban, numar total someri
				din mediul rural,
				numar someri femei din mediul rural, numar someri barbati din mediul rural.

			</p>
			<p>Asa arata structura tabelului rata:</p>
			<figure typeof="sa:image">
				<img src="images/medii.png">
				<figcaption>Fig.7 - Structura tabelului MediiLunaAnul</figcaption>
			</figure>


			<p>Exemplu de date stocate in tabel:</p>
			<figure typeof="sa:image">
				<img src="images/medii-content.png">
				<figcaption>Fig.8 - Exemplu de date din tabelulul MediiLunaAnul</figcaption>
			</figure>

		</section>

		<section id="educatiedb">
			<h3>
				Tabelul EducatieLunaAnul
			</h3>

			<p>Date din acest tabel sunt introduse de administratorul bazei de date .</p>
			<p>Tabelul este realizat pentru fiecare luna a anului si contine ca si date raportate per judet: fara
				studii,
				invatamant primar, invatamant gimnazial, invatamant liceal, invatamant posticeal, invatamant
				profesional/arte si meserii,
				invatamant universitar.
			</p>
			<p>Structura tabelului:</p>
			<figure typeof="sa:image">
				<img src="images/educatie.png">
				<figcaption>Fig.9 - Structura tabelului EducatieLunaAnul</figcaption>
			</figure>


			<p>Exemplu de date stocate in tabel:</p>
			<figure typeof="sa:image">
				<img src="images/educatie-content.png">
				<figcaption>Fig.10 - Exemplu de date din tabelulul EducatieLunaAnul</figcaption>
			</figure>

		</section>

		<section id="educatiedb">
			<h3>
				Tabelul VarsteLunaAnul
			</h3>

			<p>Date din acest tabel sunt introduse de administratorul bazei de date .</p>
			<p>Tabelul este realizat pentru fiecare luna a anului si contine ca si date raportate per judet: fara
				studii,
				Sub 25 ani, intre 25 - 29 ani, intre 30 - 39 ani, intre 40 - 49 ani, intre 50 - 55 ani peste 55 ani.
			</p>
			<p>Structura tabelului:</p>
			<figure typeof="sa:image">
				<img src="images/varste.png">
				<figcaption>Fig.11 - Structura tabelului VarsteLunaAnul</figcaption>
			</figure>


			<p>Exemplu de date stocate in tabel:</p>
			<figure typeof="sa:image">
				<img src="images/varste-content.png">
				<figcaption>Fig.12- Exemplu de date din tabelulul VarsteLunaAnul</figcaption>
			</figure>

		</section>
	</section>

	<section id="front-end">

		<h3>
			Front End
		</h3>

		<p>Toate paginile site-ului sunt responsive, redimensionarea in pagina are loc automat in functie de
			dimensiunile ecranului
			dispozitivul utilizat, inclusiv pe device-uri ca iPhone 5 SE, cu ecran ingust.
		</p>

		<section id="signupfront">
			<h3>
				Sign-Up
			</h3>

			<p>Pagina de Sign Up are denumirea de index.php din folderul app/views/register.</p>

			<p>Pagina de Sign Up:</p>
			<figure typeof="sa:image">
				<img src="images/signup.png">
				<figcaption>Fig.13- Pagina de Sign Up</figcaption>
			</figure>

		</section>


		<section id="loginfront">
			<h3>
				Login
			</h3>

			<p>Pagina de Login are denumirea de index.php din folderul app/views/login.</p>
			<p>Pagina de Login:</p>
			<figure typeof="sa:image">
				<img src="images/login.png">
				<figcaption>Fig.14- Pagina de Login</figcaption>
			</figure>

		</section>

		<section id="logoutfront">
			<h3>
				Logout
			</h3>
			<p> Logout-ul se face apasand butonul de logout de pe pagina principala: app/views/home/index.php</p>
			<p>Pagina principala cu butonul de logout:</p>
			<figure typeof="sa:image">
				<img src="images/logout.png">
				<figcaption>Fig.15- Pagina principala cu butonul de logout</figcaption>
			</figure>

		</section>

		<section id="hartafront">
			<h3>
				Resurse Cartografice
			</h3>

			<p>Pagina Resurse Cartografice are denumirea resurseCartografice.php si se afla in app/views/statistici.</p>
			<p>Pagina Resurse Cartografice:</p>
			<figure typeof="sa:image">
				<img src="images/harti.png">
				<figcaption>Fig.16- Pagina Resurse Cartografice</figcaption>
			</figure>

		</section>

		<section id="statisticifront">
			<h3>
				Statistici
			</h3>

		</section>

		<section id="referintefront">
			<h3>
				Referinte
			</h3>
			<p>Pagina Referinte are denumirea index-referinte.php si se gaseste in app/views/referinte.</p>
			<p>Pagina Referinte:</p>
			<figure typeof="sa:image">
				<img src="images/referinte.png">
				<figcaption>Fig.17- Pagina Referinte</figcaption>
			</figure>
		</section>

	</section>

	<section id="back-end">

		<h3>
			Back End
		</h3>

		<section id="signupback">
			<h3>
				Sign-Up
			</h3>
			<p>Sign-Up-ul se face prin introducerea datelor corespunzatoare noului cont in formularul de pe pagina
				app/views/register/index.php.
				Acestea sunt apoi trimise catre app/models/registru.php unde sunt verificate urmatoarele criterii:
				completarea tuturor spatiilor
				din cadrul form-ului, respectarea formatului standard al fiecarui tip de data, unicitatea numelui si
				adresei de email introduse.
			</p>
			<figure typeof="sa:image">
				<img src="images/preluare.png">
				<figcaption>Fig.18- Preluarea datelor fin form</figcaption>
			</figure>
			<figure typeof="sa:image">
				<img src="images/verificare.png">
				<figcaption>Fig.19- Verificarea datelor</figcaption>
			</figure>
			<p>
				Daca testele de mai sus sunt trecute, se va insera in tabela "registru" un nou rand continand
				credentialele contului nou. De asemenea,
				parola va fi salvata cu valoarea unei functii hash, oferindu-se astfel mai multa securitate pentru
				utilizatori.
				Altfel, va aparea o fereastra de tip alert cu un mesaj sugestiv, cazuri gestionate in api/db_error.php.
			</p>
			<figure typeof="sa:image">
				<img src="images/inserare.png">
				<figcaption>Fig.20- Inserarea datelor in baza de date</figcaption>
			</figure>
			<figure typeof="sa:image">
				<img src="images/error.png">
				<figcaption>Fig.21- Fisierul db_error.php</figcaption>
			</figure>
		</section>

		<section id="loginback">
			<h3>
				Login
			</h3>
			<p>Login-ul se face prin introducerea datelor corespunzatoare unui cont in formularul de pe pagina
				app/views/login/index.php.
				Acestea sunt apoi verificate. Daca datele apartin unui cont existent in baza de date, se initiaza o
				sesiune, setand $_SESSION['id_user']
				cu id-ul corespunzator acelui cont si se afiseaza un mesaj de bun venit, daca datele introduse nu
				apartin niciunui cont, se afiseaza un mesaj
				de eroare.
				<br>De asemenea, daca utilizatorul este deja logat, va aparea un mesaj corespunzator, iar acesta
				nu se va mai putea loga din nou,
			</p>
			<figure typeof="sa:image">
				<img src="images/log.png">
				<figcaption>Fig.22- Login backend</figcaption>
			</figure>
		</section>

		<section id="logoutback">
			<h3>
				Logout
			</h3>
			<p>Logout-ul se face prin apasarea butonului de pe pagina principala, care apeleaza codul din
				app/models/logout.php. Daca o sesiune cu un id
				de utilizator a fost initiata, aceasta este eliminata, iar pe pagina principala va aparea un mesaj
				corespunzator.
				Daca nu a fost efectuata o logare in prealabil, clientul va fi informat printr-un mesaj.
			</p>
			<figure typeof="sa:image">
				<img src="images/out.png">
				<figcaption>Fig.23- Logout backend</figcaption>
			</figure>
		</section>


		<section id="hartaback-end">
			<h3>
				Resurse Cartografice
			</h3>
			<p>
				Pe aceasta pagina de va afisa o interpretare a datelor din tabela "data" sub forma unei harti
				choropleth.
				Aceasta este generata folosind <i>"Leaflet"</i>, iar datele afisate pe harta corespund coloanei alese
				prin form-ul de pe pagina, folosind Ajax (public/js/map/map.js).
				In functie de valoarea selectata de utilizator in cadrul form-ului, vor fi preluate anumite date din
				baza de date
				(in cadrul app/models/getdata.php) si se va apela functia buildMap (public/js/map/leaf.js), care va
				genera harta, cu datele selectate.
			</p>
			<figure typeof="sa:image">
				<img src="images/map.png">
				<figcaption>Fig.24- Fisierul map.js</figcaption>
			</figure>
			<p>Harta va putea fi salvata sub forma de PNG si SVG, folosind biblioteca javascript
				<i>"html2canvas"</i>, functiile
				pentru fiecare conversie fiind gasite in public/js/map/capture.js, respectiv public/js/map/svg.js.
			</p>
			<figure typeof="sa:image">
				<img src="images/png.png">
				<figcaption>Fig.25- Cod pentru salvarea hartii ca PNG din fisierul capture.js</figcaption>
			</figure>
			<figure typeof="sa:image">
				<img src="images/svg.png">
				<figcaption>Fig.26- Cod pentru salvarea hartii ca SVG din fisierul svg.js</figcaption>
			</figure>
			<p>
				De asemenea, datele vor putea
				fi exportate sub forma unui fisier csv, printr-o functie Ajax gasita in public/js/map/csv.js, selectarea
				si redactarea corespunzatoare
				a acestora se face in app/models/csvExport.php, cod apelat in urma functiei Ajax descrisa precedent.
			</p>
			<figure typeof="sa:image">
				<img src="images/csv.png">
				<figcaption>Fig.27- Cod pentru salvarea hartii ca CSV din fisierul csv.js</figcaption>
			</figure>
			<figure typeof="sa:image">
				<img src="images/csvExport.png">
				<figcaption>Fig.28- Fisierul csvExport.php</figcaption>
			</figure>
			<p>Pentru eficienta maxima a site-ului, toate fisierele javascript mentionate mai sus, au fost
				compresate in fisierul mini.js din folderul
				public/js/map folosind tool-ul <i>"terser"</i>.
			</p>
		</section>

		<section id="statisticiback-end">
			<h3>
				Statistici
			</h3>
		</section>
	</section>

</body>

</html>